<html>
<head>
    <link rel="stylesheet" href="/styles/styles.css"/>
    <title>User</title>
    <script>
        function deleteRequest() {
            if (confirm('Are you sure you want to delete this user?')) {
                fetch('/users/<%= user.id %>/delete', {method:'delete'})
                .then(() => {
                    location.href="/users";
                })
            }
        }
    </script>
</head>
<body>
<div id="topNav">
    <a href="/">Home</a>
    <a href="/users">users</a>
    <a href="/characters">characters</a>
    <a href="/register">register</a>
    <a href="/login">login</a>
    <a href="/logout">logout</a>
    <a href="/chat">chat</a>
</div>


<div class="image-container">
<div id="content">
    <h1>This is user <%= user.id %></h1>
    <img src="/uploads/<%= pictureUUID ? pictureUUID + '.jpg' : '' %>" alt="User image" id="profilePic"/>
    <div>
        <% Object.entries(user).forEach(([key, value]) => { %>
        <% if (key === 'password') { return }%>
            <p class="label"><%= key %> </p>
            <p class="userInformation"><%= value %> </p>
        <% }) %>

            <a href="/users/<%= user.id %>/edit">Edit user</a>

            <button onClick="deleteRequest()">Delete User</button>

            <a href="/users/<%= user.id %>/picture/upload">Set profile picture</a>
    </div>

</div>
</div>
</body>
</html>
